(window.webpackJsonp=window.webpackJsonp||[]).push([[33,8,9,15],{557:function(t,e,n){var content=n(565);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("60b4ebe8",content,!0,{sourceMap:!1})},558:function(t,e,n){var content=n(567);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("7c8dda60",content,!0,{sourceMap:!1})},559:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{}},computed:{getSensingTimeStart:function(){return this.$store.getters["timeBank/getSensingTime"]("MC027")}},mounted:function(){this.keikaJikan()},methods:{}},o=(n(566),n(29)),c=n(68),l=n.n(c),d=n(534),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"px-4 pt-5",attrs:{elevation:"5",height:"280px"}},[n("h4",[t._v("稼働時間コンポーネント")]),t._v(" "),n("p",{attrs:{id:"kadoujikan"}},[t._v(t._s(t.KadouJikan))]),t._v(" "),n("p",[t._v("asdfasfa")]),t._v(" "),n("p",{staticClass:"backgroundColor=red"},[t._v(t._s(t.getSensingTimeStart))])])],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VCard:d.a})},564:function(t,e,n){"use strict";n(557)},565:function(t,e,n){var r=n(12)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);"]),r.push([t.i,'body,html{padding:0;margin:0;width:100%;height:100%}section{background-color:#000;font-family:"Share Tech Mono",sans-serif;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-content:stretch;align-items:center}#clock{order:0;flex:0 1 auto;align-self:center;color:#c8c8c8}#clock .time{font-size:6.5em}#clock .text{margin-top:30px;font-size:1em;color:hsla(0,0%,78.4%,.15);text-align:center}#clock .text a{text-decoration:none;color:inherit;transition:color .1s ease-out}#clock .text a:hover{color:#c8c8c8}#clock .btn-container{display:flex;margin-top:15px}#clock .btn-container a{text-align:center;font-family:"Share Tech Mono",sans-serif;background:transparent;border:none;color:#c8c8c8;padding:10px 15px;margin:0 10px;text-transform:uppercase;font-size:2em;cursor:pointer;flex-grow:1;transition:color .1s ease-out}#clock .btn-container a:hover{color:#fff}',""]),t.exports=r},566:function(t,e,n){"use strict";n(558)},567:function(t,e,n){var r=n(12)(!1);r.push([t.i,"h4{font-size:1em}#kadoujikan,h4{color:#00f;text-align:center}#kadoujikan{font-size:5em;border:1px solid;border-radius:10px;padding:0;margin:0}",""]),t.exports=r},568:function(t,e,n){var content=n(593);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("98bc4c50",content,!0,{sourceMap:!1})},569:function(t,e,n){"use strict";n.r(e);n(88),n(59);var r={data:function(){return{el:"#clock",time:"00:00:00.000",counter:0,lapArray:[],timeBegan:null,timeStopped:null,stoppedDuration:0,started:null,running:!1}},methods:{start:function(){this.running||(null===this.timeBegan&&(this.reset(),this.timeBegan=new Date),null!==this.timeStopped&&(this.stoppedDuration+=new Date-this.timeStopped),this.started=setInterval(this.clockRunning,10),this.running=!0)},stop:function(){this.running||start(),this.lapArray.push(this.time),this.timeBegan=new Date,this.time="00:00:00.000",this.counter++},reset:function(){console.log("resetに来てますよ"),this.running=!1,clearInterval(this.started),this.stoppedDuration=0,this.timeBegan=null,this.timeStopped=null,this.time="00:00:00.000",this.counter=0,this.lapArray.length=0},clockRunning:function(){var t=new Date,e=new Date(t-this.timeBegan-this.stoppedDuration),n=this.zeroPadding(e.getUTCHours(),2),r=this.zeroPadding(e.getUTCMinutes(),2),o=e.getUTCSeconds(),c=this.zeroPadding(e.getUTCMilliseconds(),3);this.time=n+":"+r+":"+this.zeroPadding(o,2)+"."+c},zeroPrefix:function(){for(var t="",i=0;i<digit;i++)t+="0";return(t+num).slice(-digit)},zeroPadding:function(t,e){return("00000000"+String(t)).slice(-e)}}},o=(n(564),n(29)),c=n(68),l=n.n(c),d=n(197),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("title",[t._v("Stop Watch Sample")]),t._v(" "),n("div",{attrs:{id:"clock"}},[n("span",{staticClass:"time"},[t._v(t._s(t.time))]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"time"},[t._v("Count : "+t._s(t.counter))]),t._v(" "),n("br"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.start}},[t._v("Start")]),t._v(" "),n("v-btn",{attrs:{color:"secondary"},on:{click:t.stop}},[t._v("Count")]),t._v(" "),n("v-btn",{attrs:{color:"pink lighten-4"},on:{click:t.reset}},[t._v("Reset")]),t._v(" "),t._l(t.lapArray,(function(e,r){return n("div",{key:e},[n("span",[t._v(t._s(r+1)+" : "+t._s(e))])])})),t._v(" "),t._m(0)],2)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text"},[n("a",{attrs:{href:"https://codepen.io/raphael_octau",target:"_blank"}},[t._v("@raphael_octau")])])}],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:d.a})},592:function(t,e,n){"use strict";n(568)},593:function(t,e,n){var r=n(12)(!1);r.push([t.i,"#getD[data-v-6a82acbf]{color:red;background:#000}",""]),t.exports=r},619:function(t,e,n){var content=n(668);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("b5af5a9c",content,!0,{sourceMap:!1})},629:function(t,e,n){"use strict";n.r(e);var r={computed:{getD:function(){return this.$store.getters.getNow}}},o=(n(592),n(29)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{attrs:{id:"getD"}},[t._v(t._s(t.getD))])])}),[],!1,null,"6a82acbf",null);e.default=component.exports},667:function(t,e,n){"use strict";n(619)},668:function(t,e,n){var r=n(12)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);"]),r.push([t.i,'#kadouritsu{font-size:1.5em}#container{display:grid;grid-template-columns:300px 300px 1fr;grid-template-rows:300px 200px 1fr;grid-template-areas:"areaA areaA areaB" "areaC areaD areaB" "areaE areaD areaB";padding:10px}#test{grid-area:areaA;font-family:"Share Tech Mono",sans-serif;font-size:3em;background:#000;color:#f0f8ff;text-align:center;display:-webkit-flex;align-items:center;-webkit-align-items:center;justify-content:center;vertical-align:"middle";margin:10px}.keika{font-size:1em}#kadouJikan{grid-area:areaE;background:purple;color:#fff;border:4px solid brown}#clock{grid-area:areaA;background:#000;display:flex;margin:10px}#msg{grid-area:areaD;padding:0;margin:5px;background:pink;color:brown;border:3px solid brown}#grp{grid-area:areaB;padding:0;border:4px double red;background-color:rgba(100,200,200,.1)}#line{width:500px}#stts{background:#87ceeb;border:4px solid #00f;font-size:3em;margin:5px;text-align:center;display:flex;align-items:center;justify-content:center}#stts,.Unten{vertical-align:"middle"}.Unten{color:pink;width:700px;height:100px}.Teishi2{color:#f5f5f5;font-size:1em;background-color:red;width:200px;height:100px;border-radius:50%;display:flex}',""]),t.exports=r},730:function(t,e,n){"use strict";n.r(e);n(27),n(88),n(105),n(18),n(59);var r=n(3),o=n(2),c=n(90),l=n(569),d=n(559),f=n(629),h=n(555);o.a.use(c.a);var m={components:{StopWatch:l.default,KadouJikan:d.default,doughnuts:f.default},data:function(){return{datacollection:null,dataOption:null,time:"00:00:00.000",counter:0,stoppedDuration:0,data_Kadou:[],data_Teishi:[],data_Teishi_Title:[],data_kadou_total:0,labelSample:["a","b","c"],TimeIncrease:[0,0],lastS:"",lastD:"",timeBegan:null,started:null,running:!1,dataCount:0,styleObject:{color:"yellow",backgroundColor:"blue",fontSize:30},MachineCT:{MC027:0,NC036:0},MachineStatus:{MC027:!0,NC036:!1},MachineLT:{MC027:"MC027LT",NC036:"NC036LT"}}},mounted:function(){this.fillData()},computed:{reverseItems:function(){return this.data_Teishi_Title.slice().reverse().splice(0,7)},RDS:function(){return this.data_sample},GetD:function(){return this.$store.getters["counter/counter"]},getNow:function(){new Date;return this.$store.getters.getNow},getKadouJikanVuex:function(){return this.$store.getters.getKadouJikan},getKeikaJikan:function(){return this.$store.getters["timeBank/getKeikaJikanByou"]},Kadouritst:function(){return"【マシン稼働率".concat(Math.round(this.$store.getters.getKadouJikan/this.$store.getters["timeBank/getKeikaJikanByou"]*1e3)/10,"％】")}},methods:{fillData:function(){this.fire(),this.dataOption={responsive:!0,scales:{yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"稼働ステップ時間",fontSize:8},ticks:{min:0,max:30,fontSize:8,stepSize:5}}],xAxes:[{display:!0,stacked:!0,barPercentage:.4,categoryPercentage:.4,scaleLabel:{display:!0,labelString:"秒",fontSize:10},ticks:{min:0,max:500,fontSize:8}}]},layout:{padding:{left:100,right:100,top:0,bottom:0}}}},getRandomInt:function(){return Math.floor(46*Math.random())+5},fire:function(){var t=this;console.clear;var e=new Date,n=e.getFullYear(),o=e.getMonth(),c=e.getDate(),l=new Date(n,o,c,0,0,0),d=new Date(n,o,c,23,59,59),f=String(Date.parse(l)),m=String(Date.parse(d));console.log(f),h.a.database().ref("NishioMachineCT/").orderByChild("startTime").startAt(f).endAt(m).on("value",(function(e){t.data_kadou=[],t.data_Teishi=[],t.data_kadou_total=123,t.$store.commit("kadouJikanReset"),t.data_Teishi_Title=[],t.labelSample=[],t.lastD=0,t.count=0,t.dataCount=0;var data=e.val();for(var i in data){var n=data[i],o=new Date,c=String(o.getFullYear())+String(o.getMonth()+1)+String(o.getDate()),l=String(o.getHours()),d=String(o.getMinutes()),f=String(o.getSeconds()),h=("".concat(t.zeroPadding(l,2),"時").concat(t.zeroPadding(d,2),"分").concat(t.zeroPadding(f,2),"秒 "),new Date(Number(n.endTime))),m=String(h.getFullYear()),v=String(h.getMonth()+1),_=String(h.getDate()),k=String(h.getHours()),x=String(h.getMinutes()),S=String(h.getSeconds()),C=m+v+_,T=("".concat(v," 月 \n                                      ").concat(t.zeroPadding(_,2),"日 \n                                      ").concat(t.zeroPadding(k,2),"時 \n                                      ").concat(t.zeroPadding(x,2),"分 \n                                      ").concat(t.zeroPadding(S,2),"秒 "),"".concat(t.zeroPadding(k,2),"時").concat(t.zeroPadding(x,2),"分").concat(t.zeroPadding(S,2),"秒 ")),w=n.machine;if(console.log(w),c==C&&"LN034"==w){var z=new Date(Number(n.startTime)),D=(String(z.getFullYear()),String(z.getMonth()+1),String(z.getDate()),String(z.getHours()),String(z.getMinutes()),String(z.getSeconds()),(Number(n.endTime)-Number(n.startTime))/1e3),y=new Date(h-z);t.zeroPadding(y.getUTCHours(),2),t.zeroPadding(y.getUTCMinutes(),2),y.getUTCSeconds(),t.zeroPadding(y.getUTCMilliseconds(),3);if("999"!=n.startTime&&D>5)switch(t.TimeIncrease[Number(n.Status)-1]+=D,console.log("コミット！"),t.$store.commit("kadouJikanIncease",D),n.status){case"1":t.dataCount++,t.count+=1,t.labelSample.push(T),t.data_kadou.push(D),t.data_kadou_total=+D,console.log("コミット！"),t.$store.commit("kadouJikanIncease",D);break;case"2":t.data_Teishi.push(D),t.data_Teishi_Title[T]=D;var M=t.zeroPadding(Math.floor(D/60),2),P=t.zeroPadding(D%60,2),B="".concat(M,"分").concat(P,"秒"),J=T,$=Object(r.a)({},J,B);t.data_Teishi_Title.push($)}var K=m+v+_+"  "+k+"時"+x+"分"+S+"秒",U=n.status;t.lastS=U,t.lastD=K,t.datacollection={labels:t.labelSample,datasets:[{label:"運転時間",backgroundColor:"rgba(100, 130, 255, 0.5)",data:t.data_kadou},{label:"停止（段取・着脱）時間",backgroundColor:"rgba(150, 30, 255, 0.5)",data:t.data_Teishi}]}}else t.lastD="【本日はデータがありません】"}t.timeBegan=new Date,t.started=setInterval(t.clockRunning,10)}))},clockRunning:function(){var t=new Date,e=new Date(t-this.timeBegan-this.stoppedDuration),n=this.zeroPadding(e.getUTCHours(),2),r=this.zeroPadding(e.getUTCMinutes(),2),o=e.getUTCSeconds(),c=this.zeroPadding(e.getUTCMilliseconds(),3);this.time=n+":"+r+":"+this.zeroPadding(o,2)+"."+c},zeroPrefix:function(){for(var t="",i=0;i<digit;i++)t+="0";return(t+num).slice(-digit)},zeroPadding:function(t,e){return("00000000"+String(t)).slice(-e)}}},v=(n(667),n(29)),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nuxt-link",{attrs:{to:"/ren"}},[t._v("to ren")]),t._v(" "),n("nuxt-link",{attrs:{to:"/index_M5StickC"}},[t._v("to M5StickC")]),t._v(" "),n("div",{attrs:{id:"container"}},[n("div",{style:t.styleObject,attrs:{id:"test"}},["2"==t.lastS?n("p",{staticClass:"Unten"},[t._v(" "+t._s(t.dataCount+1)+"ｹ目")]):t._e(),n("br"),t._v(" "),"1"==t.lastS?n("p",{staticClass:"Teishi2"},[t._v(" 停止中")]):t._e(),n("br"),t._v(" "),n("p",[t._v(" "+t._s(t.time))])]),t._v(" "),n("div",{attrs:{id:"kadouJikan"}},[n("KadouJikan"),t._v("\n              "+t._s(t.getKeikaJikan)+"\n              "+t._s(t.getKadouJikanVuex)+"\n              "),n("p",{attrs:{id:"kadouritsu"}},[t._v(t._s(t.Kadouritst))])],1),t._v(" "),n("div",{attrs:{id:"stts"}},[n("span",{staticClass:"brown--text .font-weight-bold text--lighten-1"},[t._v("完了数")]),n("br"),t._v("\n              "+t._s(t.dataCount)+"ケ\n            ")]),t._v(" "),n("div",{attrs:{id:"msg"}},[t._m(0),n("br"),t._v(" "),t._v("\n            停止時間（着脱時間）直近７件の履歴\n            "),n("ul",t._l(t.reverseItems,(function(data){return n("li",{key:data.id},[t._v(t._s(data))])})),0)]),t._v(" "),n("div",{attrs:{id:"grp"}},[n("line-chart",{attrs:{"chart-data":t.datacollection,options:t.dataOption,id:"line"}})],1)])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("プレッシャープレート加工機"),n("br"),t._v("サイクル・ビュー")])}],!1,null,null,null);e.default=component.exports;installComponents(component,{KadouJikan:n(559).default,LineChart:n(153).default})}}]);