(window.webpackJsonp=window.webpackJsonp||[]).push([[20,4,5],{480:function(t,e,n){var content=n(483);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("7c8dda60",content,!0,{sourceMap:!1})},482:function(t,e,n){"use strict";n(480)},483:function(t,e,n){var r=n(24)(!1);r.push([t.i,"h4{font-size:1em}#kadoujikan,h4{color:#00f;text-align:center}#kadoujikan{font-size:5em;border:1px solid;border-radius:10px;padding:0;margin:0}",""]),t.exports=r},484:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{}},computed:{getSensingTimeStart:function(){return this.$store.getters["timeBank/getSensingTime"]("MC027")}},mounted:function(){this.keikaJikan()},methods:{}},o=(n(482),n(35)),d=n(73),l=n.n(d),c=n(466),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"px-4 pt-5",attrs:{elevation:"5",height:"280px"}},[n("h4",[t._v("稼働時間コンポーネント")]),t._v(" "),n("p",{attrs:{id:"kadoujikan"}},[t._v(t._s(t.KadouJikan))]),t._v(" "),n("p",[t._v("asdfasfa")]),t._v(" "),n("p",{staticClass:"backgroundColor=red"},[t._v(t._s(t.getSensingTimeStart))])])],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VCard:c.a})},492:function(t,e,n){var content=n(500);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("98bc4c50",content,!0,{sourceMap:!1})},499:function(t,e,n){"use strict";n(492)},500:function(t,e,n){var r=n(24)(!1);r.push([t.i,"#getD[data-v-6a82acbf]{color:red;background:#000}",""]),t.exports=r},519:function(t,e,n){var content=n(533);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("b5af5a9c",content,!0,{sourceMap:!1})},525:function(t,e,n){"use strict";n.r(e);var r={computed:{getD:function(){return this.$store.getters.getNow}}},o=(n(499),n(35)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{attrs:{id:"getD"}},[t._v(t._s(t.getD))])])}),[],!1,null,"6a82acbf",null);e.default=component.exports},532:function(t,e,n){"use strict";n(519)},533:function(t,e,n){var r=n(24)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);"]),r.push([t.i,'#kadouritsu{font-size:1.5em}#container{display:grid;grid-template-columns:300px 300px 1fr;grid-template-rows:300px 200px 1fr;grid-template-areas:"areaA areaA areaB" "areaC areaD areaB" "areaE areaD areaB";padding:10px}#test{grid-area:areaA;font-family:"Share Tech Mono",sans-serif;font-size:3em;background:#000;color:#f0f8ff;text-align:center;display:-webkit-flex;align-items:center;-webkit-align-items:center;justify-content:center;vertical-align:"middle";margin:10px}.keika{font-size:1em}#kadouJikan{grid-area:areaE;background:purple;color:#fff;border:4px solid brown}#clock{grid-area:areaA;background:#000;display:flex;margin:10px}#msg{grid-area:areaD;padding:0;margin:5px;background:pink;color:brown;border:3px solid brown}#grp{grid-area:areaB;padding:0;border:4px double red;background-color:rgba(100,200,200,.1)}#line{width:500px}#stts{background:#87ceeb;border:4px solid #00f;font-size:3em;margin:5px;text-align:center;display:flex;align-items:center;justify-content:center}#stts,.Unten{vertical-align:"middle"}.Unten{color:pink;width:700px;height:100px}.Teishi2{color:#f5f5f5;font-size:1em;background-color:red;width:200px;height:100px;border-radius:50%;display:flex}',""]),t.exports=r},549:function(t,e,n){"use strict";n.r(e);n(26),n(104),n(374),n(43),n(58);var r=n(4),o=n(3),d=n(85),l=n(512),c=n(484),f=n(525),h=n(493);o.a.use(d.a);var m={components:{StopWatch:l.default,KadouJikan:c.default,doughnuts:f.default},data:function(){return{datacollection:null,dataOption:null,time:"00:00:00.000",counter:0,stoppedDuration:0,data_Kadou:[],data_Teishi:[],data_Teishi_Title:[],data_kadou_total:0,labelSample:["a","b","c"],TimeIncrease:[0,0],lastS:"",lastD:"",timeBegan:null,started:null,running:!1,dataCount:0,styleObject:{color:"yellow",backgroundColor:"blue",fontSize:30},MachineCT:{MC027:0,NC036:0},MachineStatus:{MC027:!0,NC036:!1},MachineLT:{MC027:"MC027LT",NC036:"NC036LT"}}},mounted:function(){this.fillData()},computed:{reverseItems:function(){return this.data_Teishi_Title.slice().reverse().splice(0,7)},RDS:function(){return this.data_sample},GetD:function(){return this.$store.getters["counter/counter"]},getNow:function(){new Date;return this.$store.getters.getNow},getKadouJikanVuex:function(){return this.$store.getters.getKadouJikan},getKeikaJikan:function(){return this.$store.getters["timeBank/getKeikaJikanByou"]},Kadouritst:function(){return"【マシン稼働率".concat(Math.round(this.$store.getters.getKadouJikan/this.$store.getters["timeBank/getKeikaJikanByou"]*1e3)/10,"％】")}},methods:{fillData:function(){this.fire(),this.dataOption={responsive:!0,scales:{yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"稼働ステップ時間",fontSize:8},ticks:{min:0,max:30,fontSize:8,stepSize:5}}],xAxes:[{display:!0,stacked:!0,barPercentage:.4,categoryPercentage:.4,scaleLabel:{display:!0,labelString:"秒",fontSize:10},ticks:{min:0,max:500,fontSize:8}}]},layout:{padding:{left:100,right:100,top:0,bottom:0}}}},getRandomInt:function(){return Math.floor(46*Math.random())+5},fire:function(){var t=this;console.clear;var e=new Date,n=e.getFullYear(),o=e.getMonth(),d=e.getDate(),l=new Date(n,o,d,0,0,0),c=new Date(n,o,d,23,59,59),f=String(Date.parse(l)),m=String(Date.parse(c));console.log(f),h.a.database().ref("NishioMachineCT/").orderByChild("startTime").startAt(f).endAt(m).on("value",(function(e){t.data_kadou=[],t.data_Teishi=[],t.data_kadou_total=123,t.$store.commit("kadouJikanReset"),t.data_Teishi_Title=[],t.labelSample=[],t.lastD=0,t.count=0,t.dataCount=0;var data=e.val();for(var i in data){var n=data[i],o=new Date,d=String(o.getFullYear())+String(o.getMonth()+1)+String(o.getDate()),l=String(o.getHours()),c=String(o.getMinutes()),f=String(o.getSeconds()),h=("".concat(t.zeroPadding(l,2),"時").concat(t.zeroPadding(c,2),"分").concat(t.zeroPadding(f,2),"秒 "),new Date(Number(n.endTime))),m=String(h.getFullYear()),k=String(h.getMonth()+1),_=String(h.getDate()),v=String(h.getHours()),S=String(h.getMinutes()),x=String(h.getSeconds()),T=m+k+_,C=("".concat(k," 月 \n                                      ").concat(t.zeroPadding(_,2),"日 \n                                      ").concat(t.zeroPadding(v,2),"時 \n                                      ").concat(t.zeroPadding(S,2),"分 \n                                      ").concat(t.zeroPadding(x,2),"秒 "),"".concat(t.zeroPadding(v,2),"時").concat(t.zeroPadding(S,2),"分").concat(t.zeroPadding(x,2),"秒 ")),z=n.machine;if(console.log(z),d==T&&"LN034"==z){var D=new Date(Number(n.startTime)),w=(String(D.getFullYear()),String(D.getMonth()+1),String(D.getDate()),String(D.getHours()),String(D.getMinutes()),String(D.getSeconds()),(Number(n.endTime)-Number(n.startTime))/1e3),M=new Date(h-D);t.zeroPadding(M.getUTCHours(),2),t.zeroPadding(M.getUTCMinutes(),2),M.getUTCSeconds(),t.zeroPadding(M.getUTCMilliseconds(),3);if("999"!=n.startTime&&w>5)switch(t.TimeIncrease[Number(n.Status)-1]+=w,console.log("コミット！"),t.$store.commit("kadouJikanIncease",w),n.status){case"1":t.dataCount++,t.count+=1,t.labelSample.push(C),t.data_kadou.push(w),t.data_kadou_total=+w,console.log("コミット！"),t.$store.commit("kadouJikanIncease",w);break;case"2":t.data_Teishi.push(w),t.data_Teishi_Title[C]=w;var y=t.zeroPadding(Math.floor(w/60),2),P=t.zeroPadding(w%60,2),J="".concat(y,"分").concat(P,"秒"),K=C,$=Object(r.a)({},K,J);t.data_Teishi_Title.push($)}var N=m+k+_+"  "+v+"時"+S+"分"+x+"秒",B=n.status;t.lastS=B,t.lastD=N,t.datacollection={labels:t.labelSample,datasets:[{label:"運転時間",backgroundColor:"rgba(100, 130, 255, 0.5)",data:t.data_kadou},{label:"停止（段取・着脱）時間",backgroundColor:"rgba(150, 30, 255, 0.5)",data:t.data_Teishi}]}}else t.lastD="【本日はデータがありません】"}t.timeBegan=new Date,t.started=setInterval(t.clockRunning,10)}))},clockRunning:function(){var t=new Date,e=new Date(t-this.timeBegan-this.stoppedDuration),n=this.zeroPadding(e.getUTCHours(),2),r=this.zeroPadding(e.getUTCMinutes(),2),o=e.getUTCSeconds(),d=this.zeroPadding(e.getUTCMilliseconds(),3);this.time=n+":"+r+":"+this.zeroPadding(o,2)+"."+d},zeroPrefix:function(){for(var t="",i=0;i<digit;i++)t+="0";return(t+num).slice(-digit)},zeroPadding:function(t,e){return("00000000"+String(t)).slice(-e)}}},k=(n(532),n(35)),component=Object(k.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nuxt-link",{attrs:{to:"/ren"}},[t._v("to ren")]),t._v(" "),n("nuxt-link",{attrs:{to:"/index_M5StickC"}},[t._v("to M5StickC")]),t._v(" "),n("div",{attrs:{id:"container"}},[n("div",{style:t.styleObject,attrs:{id:"test"}},["2"==t.lastS?n("p",{staticClass:"Unten"},[t._v(" "+t._s(t.dataCount+1)+"ｹ目")]):t._e(),n("br"),t._v(" "),"1"==t.lastS?n("p",{staticClass:"Teishi2"},[t._v(" 停止中")]):t._e(),n("br"),t._v(" "),n("p",[t._v(" "+t._s(t.time))])]),t._v(" "),n("div",{attrs:{id:"kadouJikan"}},[n("KadouJikan"),t._v("\n              "+t._s(t.getKeikaJikan)+"\n              "+t._s(t.getKadouJikanVuex)+"\n              "),n("p",{attrs:{id:"kadouritsu"}},[t._v(t._s(t.Kadouritst))])],1),t._v(" "),n("div",{attrs:{id:"stts"}},[n("span",{staticClass:"brown--text .font-weight-bold text--lighten-1"},[t._v("完了数")]),n("br"),t._v("\n              "+t._s(t.dataCount)+"ケ\n            ")]),t._v(" "),n("div",{attrs:{id:"msg"}},[t._m(0),n("br"),t._v(" "),t._v("\n            停止時間（着脱時間）直近７件の履歴\n            "),n("ul",t._l(t.reverseItems,(function(data){return n("li",{key:data.id},[t._v(t._s(data))])})),0)]),t._v(" "),n("div",{attrs:{id:"grp"}},[n("line-chart",{attrs:{"chart-data":t.datacollection,options:t.dataOption,id:"line"}})],1)])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("プレッシャープレート加工機"),n("br"),t._v("サイクル・ビュー")])}],!1,null,null,null);e.default=component.exports;installComponents(component,{KadouJikan:n(484).default,LineChart:n(127).default})}}]);